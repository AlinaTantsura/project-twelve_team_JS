{"version":3,"file":"commonHelpers.js","sources":["../src/js/requests.js","../src/js/book-block.js"],"sourcesContent":["import axios from \"axios\";\n\n// CREATION DEFAULT CLASS FOR REQUESTS TO BOOKS API\nexport default class GetBooksFromApi {\n    // API adresses for send requests\n    #BASE_URL = 'https://books-backend.p.goit.global/books';\n    #BEST_BOOKS = '/top-books';\n    #ALL_CATEGORIES = '/category-list';\n    #CATEGORY = '/category?category=';\n\n    constructor() {}\n\n    // FUNCTION FOR REQUEST BESTSELLERS BOOKS LIST\n    async getBooks() {\n            const booksBest = await axios.get(`${this.#BASE_URL}${this.#BEST_BOOKS}`);\n            return booksBest.data;\n    }\n\n    // FUNCTION FOR REQUEST LIST OF ALL CATEGORIES\n    async getAllCategories() {\n        const allCategories = await axios.get(`${this.#BASE_URL}${this.#ALL_CATEGORIES}`);\n        return allCategories.data;\n    }\n\n    // FUNCTION FOR REQUEST BOOK BY ID\n    async getBookById(id) {\n        const bookById = await axios.get(`${this.#BASE_URL}/${id}`);\n        return bookById.data;\n    }\n\n    // FUNCTION FOR REQUEST ALL BOOKS FROM ONE CATEGORY\n    async getBooksFromCategory(categoryName) {\n        const category = await axios.get(`${this.#BASE_URL}${this.#CATEGORY}${categoryName}`);\n        return category.data;\n    }\n}","import GetBooksFromApi from \"./requests\";\nimport Notiflix from \"notiflix\";\n\nconst booksList = document.querySelector('.book-block-list');\n\n// FUNCTION FOR CREATE BOOK MARKUP\nfunction createBook(book) {\n    return `<li class=\"book-card\" id=\"${book._id}\">\n    <div class=\"book-card-box\">\n    <img class=\"book-card-img\" src=\"${book.book_image}\" alt=\"Book cover ${book.title}\" loading=\"lazy\" />\n    </div>\n    <h3 class=\"book-card-title\">${book.title}</h3>\n    <p class=\"book-card-text\">${book.author}</p>\n    </li>`;\n}\n\n// FUNCTION FOR CREATE MARKUP LIST OF BESTSELLERS\nfunction createBestBooksMarkup(books) {\nconst bestBooks = [];\n  for (let i = 0; i < books.length; i += 1) {\n   const cardMarkup = books[i].books.map((book, idx) => {\n        if (idx < 5) {\n            return createBook(book);\n        }\n    }).join('');\n    const markupBests = `<h2 class=\"best-category-title\">${books[i].list_name}</h2>\n    <ul class=\"best-category-list\">${cardMarkup}</ul>\n    <div class=\"see-more-btn-box\">\n    <button class=\"see-more-btn\" name=\"${books[i].list_name}\" type=\"button\">See more</button></div>`;\n\n    bestBooks.push(markupBests);\n}\n// @ts-ignore\nbooksList.innerHTML = bestBooks.join('');\n}\n// =========================================================================================================\n// CREATION MARKUP WHEN OPEN HOME PAGE\n\nconst getBooksFromApi = new GetBooksFromApi();\nasync function onLoadPage() {\n    try {\n       const response = await getBooksFromApi.getBooks();\n       if (response.length === 0) {\n        Notiflix.Notify.warning('Sorry, there are no bestsellers books yet');\n       }\n       createBestBooksMarkup(response);\n    } catch (error) {\n        Notiflix.Notify.failure('Something went wrong!');\n    }\n}\nonLoadPage();\n// ===================================================================================================="],"names":["GetBooksFromApi","__privateAdd","_BASE_URL","_BEST_BOOKS","_ALL_CATEGORIES","_CATEGORY","axios","__privateGet","id","categoryName","booksList","createBook","book","createBestBooksMarkup","books","bestBooks","i","cardMarkup","idx","markupBests","getBooksFromApi","onLoadPage","response","Notiflix"],"mappings":"+WAGe,MAAMA,CAAgB,CAOjC,aAAc,CALdC,EAAA,KAAAC,EAAY,6CACZD,EAAA,KAAAE,EAAc,cACdF,EAAA,KAAAG,EAAkB,kBAClBH,EAAA,KAAAI,EAAY,sBAEI,CAGhB,MAAM,UAAW,CAET,OADkB,MAAMC,EAAM,IAAI,GAAGC,EAAA,KAAKL,KAAYK,EAAA,KAAKJ,IAAa,GACvD,IACxB,CAGD,MAAM,kBAAmB,CAErB,OADsB,MAAMG,EAAM,IAAI,GAAGC,EAAA,KAAKL,KAAYK,EAAA,KAAKH,IAAiB,GAC3D,IACxB,CAGD,MAAM,YAAYI,EAAI,CAElB,OADiB,MAAMF,EAAM,IAAI,GAAGC,EAAA,KAAKL,MAAaM,GAAI,GAC1C,IACnB,CAGD,MAAM,qBAAqBC,EAAc,CAErC,OADiB,MAAMH,EAAM,IAAI,GAAGC,EAAA,KAAKL,KAAYK,EAAA,KAAKF,KAAYI,GAAc,GACpE,IACnB,CACL,CA9BIP,EAAA,YACAC,EAAA,YACAC,EAAA,YACAC,EAAA,YCLJ,MAAMK,EAAY,SAAS,cAAc,kBAAkB,EAG3D,SAASC,EAAWC,EAAM,CACtB,MAAO,6BAA6BA,EAAK;AAAA;AAAA,sCAEPA,EAAK,+BAA+BA,EAAK;AAAA;AAAA,kCAE7CA,EAAK;AAAA,gCACPA,EAAK;AAAA,UAErC,CAGA,SAASC,EAAsBC,EAAO,CACtC,MAAMC,EAAY,CAAA,EAChB,QAASC,EAAI,EAAGA,EAAIF,EAAM,OAAQE,GAAK,EAAG,CACzC,MAAMC,EAAaH,EAAME,GAAG,MAAM,IAAI,CAACJ,EAAMM,IAAQ,CAChD,GAAIA,EAAM,EACN,OAAOP,EAAWC,CAAI,CAElC,CAAK,EAAE,KAAK,EAAE,EACJO,EAAc,mCAAmCL,EAAME,GAAG;AAAA,qCAC/BC;AAAA;AAAA,yCAEIH,EAAME,GAAG,mDAE9CD,EAAU,KAAKI,CAAW,CAC9B,CAEAT,EAAU,UAAYK,EAAU,KAAK,EAAE,CACvC,CAIA,MAAMK,EAAkB,IAAIpB,EAC5B,eAAeqB,GAAa,CACxB,GAAI,CACD,MAAMC,EAAW,MAAMF,EAAgB,WACnCE,EAAS,SAAW,GACvBC,EAAS,OAAO,QAAQ,2CAA2C,EAEpEV,EAAsBS,CAAQ,CAChC,MAAC,CACEC,EAAS,OAAO,QAAQ,uBAAuB,CAClD,CACL,CACAF"}