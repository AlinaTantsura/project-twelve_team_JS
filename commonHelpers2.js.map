{"version":3,"file":"commonHelpers2.js","sources":["../src/js/shopping-list.js"],"sourcesContent":["import imgUrlAppleBook from '../img/appleBook@1x-min.png';\nimport imgUrlAmazon from '../img/amazon@1x-min.png';\nimport imgUrlAppleBook2x from '../img/appleBook@2x-min.png';\nimport imgUrlAmazon2x from '../img/amazon@2x-min.png';\nimport icons from '../img/InlineSprite.svg';\nimport Swal from 'sweetalert2';\n\nconst bookList = document.querySelector('.books-list');\nconst noBooks = document.querySelector('.no-books');\nconst shoppingList = JSON.parse(localStorage.getItem('shoppingList')) ?? [];\n\n/*Creation of markup*/\n\nbookList.insertAdjacentHTML('beforeend', shoppingMarkup(shoppingList));\n\n/*function for deliting elements*/\n\nfunction handlerDelete(evt) {\n  const bookId = evt.currentTarget.dataset.bookId;\n  const shoppingList = JSON.parse(localStorage.getItem('shoppingList')) || [];\n\n  const newBooks = [];\n\n  shoppingList.forEach(elem => {\n    if (elem._id !== bookId) {\n      newBooks.push(elem);\n    }\n  });\n  localStorage.setItem('shoppingList', JSON.stringify(newBooks));\n\n  const Toast = Swal.mixin({\n    toast: true,\n    position: 'top-end',\n    showConfirmButton: false,\n    timer: 1500,\n    timerProgressBar: true,\n    didOpen: toast => {\n      toast.onmouseenter = Swal.stopTimer;\n      toast.onmouseleave = Swal.resumeTimer;\n    },\n  });\n  Toast.fire({\n    icon: 'success',\n    title: 'Book was deleted successfully',\n  });\n  localStorage.setItem('shoppingList', JSON.stringify(newBooks));\n  setTimeout(() => {\n    location.reload();\n  }, 1500);\n}\n\n/*Eventlisteners on each button*/\n\nconst books = [...bookList.children];\nbooks.forEach(book => {\n  book.children[2].addEventListener('click', handlerDelete);\n});\n\n/*Checking if I have elements in section*/\n\nif (bookList.children.length === 0) {\n  noBooks.classList.remove('hidden');\n} else {\n  noBooks.classList.add('hidden');\n}\n\n/*Function for card markup*/\n\nfunction shoppingMarkup(arr) {\n  const newDescription = 'Description will be added sooner';\n\n  return arr\n    .map(\n      ({\n        _id,\n        book_image,\n        title,\n        list_name,\n        description,\n        author,\n        buy_links,\n      }) => {\n        return `\n      <li class=\"shopping-element\">\n        <img\n          src=\"${book_image}\"\n          alt=\"${title}\"\n          class=\"book-image\"\n        />\n        <div class=\"text-content\">\n          <h2 class=\"book-title\">${title}</h2>\n          <p class=\"book-category\">${list_name}</p>\n          <p class=\"book-description\">\n            ${description || newDescription}\n          </p>\n          <div class=\"author-buy\">\n            <p class=\"author-name\">${author}</p>\n            <ul class=\"buy-links\">\n              <li class=\"buy-link\">\n                <a href=\"${buy_links[0].url}\" class=\"amazon-link book-link \">\n                  <img\n                    src=\"${imgUrlAmazon}\"\n                    srcset=\"${imgUrlAmazon2x} 2x\"\n                    alt=\"Amazon\"\n                    width=\"32\"\n                    height=\"11\"\n                    class=\"buy-amazon\"\n                  />\n                </a>\n              </li>\n              <li class=\"buy-link\">\n                <a href=\"${\n                  buy_links[1].url\n                }\" class=\"apple-book-link book-link \">\n                  <img\n                    src=\"${imgUrlAppleBook}\"\n                    srcset=\"${imgUrlAppleBook2x} 2x\"\n                    alt=\"Apple Books\"\n                    width=\"16\"\n                    class=\"buy-apple\"\n                  />\n                </a>\n              </li>\n            </ul>\n          </div>\n        </div>\n        <button type=\"submit\" class=\"delete-item\" data-book-id=\"${_id}\">\n          <svg class=\"remove-bin\" width=\"16\" height=\"16\">\n            <use href=\"${icons}#trash\"></use>\n          </svg>\n        </button>\n      </li>\n    `;\n      }\n    )\n    .join('');\n}\n"],"names":["bookList","noBooks","shoppingList","shoppingMarkup","handlerDelete","evt","bookId","newBooks","elem","Swal","toast","books","book","arr","newDescription","_id","book_image","title","list_name","description","author","buy_links","imgUrlAmazon","imgUrlAmazon2x","imgUrlAppleBook","imgUrlAppleBook2x","icons"],"mappings":"yIAOA,MAAMA,EAAW,SAAS,cAAc,aAAa,EAC/CC,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAe,KAAK,MAAM,aAAa,QAAQ,cAAc,CAAC,GAAK,GAIzEF,EAAS,mBAAmB,YAAaG,EAAeD,CAAY,CAAC,EAIrE,SAASE,EAAcC,EAAK,CAC1B,MAAMC,EAASD,EAAI,cAAc,QAAQ,OACnCH,EAAe,KAAK,MAAM,aAAa,QAAQ,cAAc,CAAC,GAAK,GAEnEK,EAAW,CAAA,EAEjBL,EAAa,QAAQM,GAAQ,CACvBA,EAAK,MAAQF,GACfC,EAAS,KAAKC,CAAI,CAExB,CAAG,EACD,aAAa,QAAQ,eAAgB,KAAK,UAAUD,CAAQ,CAAC,EAE/CE,EAAK,MAAM,CACvB,MAAO,GACP,SAAU,UACV,kBAAmB,GACnB,MAAO,KACP,iBAAkB,GAClB,QAASC,GAAS,CAChBA,EAAM,aAAeD,EAAK,UAC1BC,EAAM,aAAeD,EAAK,WAC3B,CACL,CAAG,EACK,KAAK,CACT,KAAM,UACN,MAAO,+BACX,CAAG,EACD,aAAa,QAAQ,eAAgB,KAAK,UAAUF,CAAQ,CAAC,EAC7D,WAAW,IAAM,CACf,SAAS,OAAM,CAChB,EAAE,IAAI,CACT,CAIA,MAAMI,EAAQ,CAAC,GAAGX,EAAS,QAAQ,EACnCW,EAAM,QAAQC,GAAQ,CACpBA,EAAK,SAAS,GAAG,iBAAiB,QAASR,CAAa,CAC1D,CAAC,EAIGJ,EAAS,SAAS,SAAW,EAC/BC,EAAQ,UAAU,OAAO,QAAQ,EAEjCA,EAAQ,UAAU,IAAI,QAAQ,EAKhC,SAASE,EAAeU,EAAK,CAC3B,MAAMC,EAAiB,mCAEvB,OAAOD,EACJ,IACC,CAAC,CACC,IAAAE,EACA,WAAAC,EACA,MAAAC,EACA,UAAAC,EACA,YAAAC,EACA,OAAAC,EACA,UAAAC,CACR,IACe;AAAA;AAAA;AAAA,iBAGEL;AAAA,iBACAC;AAAA;AAAA;AAAA;AAAA,mCAIkBA;AAAA,qCACEC;AAAA;AAAA,cAEvBC,GAAeL;AAAA;AAAA;AAAA,qCAGQM;AAAA;AAAA;AAAA,2BAGVC,EAAU,GAAG;AAAA;AAAA,2BAEbC;AAAA,8BACGC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAUZF,EAAU,GAAG;AAAA;AAAA,2BAGJG;AAAA,8BACGC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kEAUoCV;AAAA;AAAA,yBAEzCW;AAAA;AAAA;AAAA;AAAA,KAMpB,EACA,KAAK,EAAE,CACZ"}