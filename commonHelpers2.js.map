{"version":3,"file":"commonHelpers2.js","sources":["../src/js/shopping-list.js"],"sourcesContent":["import imgUrlAppleBook from '../img/appleBook@1x-min.png';\nimport imgUrlAmazon from '../img/amazon@1x-min.png';\nimport imgUrlAppleBook2x from '../img/appleBook@2x-min.png';\nimport imgUrlAmazon2x from '../img/amazon@2x-min.png';\nimport icons from '../img/InlineSprite.svg';\nconst bookList = document.querySelector('.books-list');\nconst noBooks = document.querySelector('.no-books');\nconst shoppingList = JSON.parse(localStorage.getItem('shoppingList')) ?? [];\n/*Creation of markup*/\nbookList.insertAdjacentHTML('beforeend', shoppingMarkup(shoppingList));\n/*function for deliting elements*/\nconst bookListElements = shoppingList.length;\nlet newListElements = bookListElements;\nfunction handlerDelete(evt) {\n  location.reload();\n  const bookId = evt.currentTarget.dataset.bookId;\n  const shoppingList = JSON.parse(localStorage.getItem('shoppingList')) || [];\n\n  const newBooks = [];\n\n  shoppingList.forEach(elem => {\n    if (elem._id !== bookId) {\n      newBooks.push(elem);\n    }\n  });\n  localStorage.setItem('shoppingList', JSON.stringify(newBooks));\n}\nif (bookListElements !== newListElements) {\n  bookList.insertAdjacentHTML('beforeend', shoppingMarkup(shoppingList));\n}\n/*Eventlisteners on each button*/\nconst books = [...bookList.children];\nbooks.forEach(book => {\n  book.children[2].addEventListener('click', handlerDelete);\n});\n/*Checking if I have elements in section*/\nif (bookList.children.length === 0) {\n  noBooks.classList.remove('hidden');\n} else {\n  noBooks.classList.add('hidden');\n}\n\n/*Function for card markup*/\nfunction shoppingMarkup(arr) {\n  const newDescription = 'Description will be added sooner';\n\n  return arr\n    .map(\n      ({\n        _id,\n        book_image,\n        title,\n        list_name,\n        description,\n        author,\n        buy_links,\n      }) => {\n        return `\n      <li class=\"shopping-element\">\n        <img\n          src=\"${book_image}\"\n          alt=\"${title}\"\n          class=\"book-image\"\n        />\n        <div class=\"text-content\">\n          <h2 class=\"book-title\">${title}</h2>\n          <p class=\"book-category\">${list_name}</p>\n          <p class=\"book-description\">\n            ${description || newDescription}\n          </p>\n          <div class=\"author-buy\">\n            <p class=\"author-name\">${author}</p>\n            <ul class=\"buy-links\">\n              <li class=\"buy-link\">\n                <a href=\"${buy_links[0].url}\" class=\"amazon-link book-link \">\n                  <img\n                    src=\"${imgUrlAmazon}\"\n                    srcset=\"${imgUrlAmazon2x} 2x\"\n                    alt=\"Amazon\"\n                    width=\"32\"\n                    height=\"11\"\n                    class=\"buy-amazon\"\n                  />\n                </a>\n              </li>\n              <li class=\"buy-link\">\n                <a href=\"${\n                  buy_links[1].url\n                }\" class=\"apple-book-link book-link \">\n                  <img\n                    src=\"${imgUrlAppleBook}\"\n                    srcset=\"${imgUrlAppleBook2x} 2x\"\n                    alt=\"Apple Books\"\n                    width=\"16\"\n                    class=\"buy-apple\"\n                  />\n                </a>\n              </li>\n            </ul>\n          </div>\n        </div>\n        <button type=\"submit\" class=\"delete-item\" data-book-id=\"${_id}\">\n          <svg class=\"remove-bin\" width=\"16\" height=\"16\">\n            <use href=\"${icons}#trash\"></use>\n          </svg>\n        </button>\n      </li>\n    `;\n      }\n    )\n    .join('');\n}\n"],"names":["bookList","noBooks","shoppingList","shoppingMarkup","bookListElements","newListElements","handlerDelete","evt","bookId","newBooks","elem","books","book","arr","newDescription","_id","book_image","title","list_name","description","author","buy_links","imgUrlAmazon","imgUrlAmazon2x","imgUrlAppleBook","imgUrlAppleBook2x","icons"],"mappings":"yFAKA,MAAMA,EAAW,SAAS,cAAc,aAAa,EAC/CC,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAe,KAAK,MAAM,aAAa,QAAQ,cAAc,CAAC,GAAK,GAEzEF,EAAS,mBAAmB,YAAaG,EAAeD,CAAY,CAAC,EAErE,MAAME,EAAmBF,EAAa,OACtC,IAAIG,EAAkBD,EACtB,SAASE,EAAcC,EAAK,CAC1B,SAAS,OAAM,EACf,MAAMC,EAASD,EAAI,cAAc,QAAQ,OACnCL,EAAe,KAAK,MAAM,aAAa,QAAQ,cAAc,CAAC,GAAK,GAEnEO,EAAW,CAAA,EAEjBP,EAAa,QAAQQ,GAAQ,CACvBA,EAAK,MAAQF,GACfC,EAAS,KAAKC,CAAI,CAExB,CAAG,EACD,aAAa,QAAQ,eAAgB,KAAK,UAAUD,CAAQ,CAAC,CAC/D,CACIL,IAAqBC,GACvBL,EAAS,mBAAmB,YAAaG,EAAeD,CAAY,CAAC,EAGvE,MAAMS,EAAQ,CAAC,GAAGX,EAAS,QAAQ,EACnCW,EAAM,QAAQC,GAAQ,CACpBA,EAAK,SAAS,GAAG,iBAAiB,QAASN,CAAa,CAC1D,CAAC,EAEGN,EAAS,SAAS,SAAW,EAC/BC,EAAQ,UAAU,OAAO,QAAQ,EAEjCA,EAAQ,UAAU,IAAI,QAAQ,EAIhC,SAASE,EAAeU,EAAK,CAC3B,MAAMC,EAAiB,mCAEvB,OAAOD,EACJ,IACC,CAAC,CACC,IAAAE,EACA,WAAAC,EACA,MAAAC,EACA,UAAAC,EACA,YAAAC,EACA,OAAAC,EACA,UAAAC,CACR,IACe;AAAA;AAAA;AAAA,iBAGEL;AAAA,iBACAC;AAAA;AAAA;AAAA;AAAA,mCAIkBA;AAAA,qCACEC;AAAA;AAAA,cAEvBC,GAAeL;AAAA;AAAA;AAAA,qCAGQM;AAAA;AAAA;AAAA,2BAGVC,EAAU,GAAG;AAAA;AAAA,2BAEbC;AAAA,8BACGC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAUZF,EAAU,GAAG;AAAA;AAAA,2BAGJG;AAAA,8BACGC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kEAUoCV;AAAA;AAAA,yBAEzCW;AAAA;AAAA;AAAA;AAAA,KAMpB,EACA,KAAK,EAAE,CACZ"}