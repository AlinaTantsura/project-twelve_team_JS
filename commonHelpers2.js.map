{"version":3,"file":"commonHelpers2.js","sources":["../src/js/shopping-list.js"],"sourcesContent":["const bookList = document.querySelector('.books-list');\nconst deleteForm = document.querySelector('.delete-form');\nconst noBooks = document.querySelector('.no-books');\nconst shoppingList = JSON.parse(localStorage.getItem('shoppingList'));\n/*Creation of markup*/\nbookList.insertAdjacentHTML('beforeend', shoppingMarkup(shoppingList));\n/*Eventlisteners on each button*/\nconst books = [...bookList.children];\nbooks.forEach(book => {\n  book.children[2].addEventListener('click', handlerDelete);\n});\n/*function for deliting elements*/\nfunction handlerDelete(evt) {\n  const bookId = evt.currentTarget.dataset.bookId;\n  const shoppingList = JSON.parse(localStorage.getItem('shoppingList')) || [];\n\n  const newBooks = [];\n\n  shoppingList.filter(elem => {\n    if (elem._id !== bookId) {\n      newBooks.push(elem);\n    }\n  });\n  console.log(newBooks);\n  localStorage.setItem('shoppingList', JSON.stringify(newBooks));\n}\n/*Checking if I have elements in section*/\nif (bookList.children.length === 0) {\n  noBooks.classList.remove('hidden');\n} else {\n  noBooks.classList.add('hidden');\n}\n\n/*Function for card markup*/\nfunction shoppingMarkup(arr) {\n  const newDescription = 'Description will be added sooner';\n\n  return arr\n    .map(\n      ({\n        _id,\n        book_image,\n        title,\n        list_name,\n        description,\n        author,\n        buy_links,\n      }) => {\n        return `\n      <li class=\"shopping-element\">\n        <img\n          src=\"${book_image}\"\n          alt=\"${title}\"\n          class=\"book-image\"\n        />\n        <div class=\"text-content\">\n          <h2 class=\"book-title\">${title}</h2>\n          <p class=\"book-category\">${list_name}</p>\n          <p class=\"book-description\">\n            ${description || newDescription}\n          </p>\n          <div class=\"author-buy\">\n            <p class=\"author-name\">${author}</p>\n            <ul class=\"buy-links\">\n              <li class=\"buy-link\">\n                <a href=\"${buy_links[0].url}\" class=\"amazon-link book-link \">\n                  <img\n                    src=\"../img/amazon@1x-min.png\"\n                    alt=\"Amazon\"\n                    width=\"32\"\n                    height=\"11\"\n                    class=\"buy-amazon\"\n                  />\n                </a>\n              </li>\n              <li class=\"buy-link\">\n                <a href=\"${buy_links[1].url}\" class=\"apple-book-link book-link \">\n                  <img\n                    src=\"../img/appleBook@1x-min.png\"\n                    alt=\"Apple Books\"\n                    width=\"16\"\n                    class=\"buy-apple\"\n                  />\n                </a>\n              </li>\n            </ul>\n          </div>\n        </div>\n        <button type=\"submit\" class=\"delete-item\" data-book-id=\"${_id}\">\n          <svg class=\"remove-bin\" width=\"16\" height=\"16\">\n            <use href=\"./img/InlineSprite.svg#trash-min\"></use>\n          </svg>\n        </button>\n      </li>\n    `;\n      }\n    )\n    .join('');\n}\n"],"names":["bookList","noBooks","shoppingList","shoppingMarkup","books","book","handlerDelete","evt","bookId","newBooks","elem","arr","newDescription","_id","book_image","title","list_name","description","author","buy_links"],"mappings":"iDAAA,MAAMA,EAAW,SAAS,cAAc,aAAa,EAClC,SAAS,cAAc,cAAc,EACxD,MAAMC,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAe,KAAK,MAAM,aAAa,QAAQ,cAAc,CAAC,EAEpEF,EAAS,mBAAmB,YAAaG,EAAeD,CAAY,CAAC,EAErE,MAAME,EAAQ,CAAC,GAAGJ,EAAS,QAAQ,EACnCI,EAAM,QAAQC,GAAQ,CACpBA,EAAK,SAAS,GAAG,iBAAiB,QAASC,CAAa,CAC1D,CAAC,EAED,SAASA,EAAcC,EAAK,CAC1B,MAAMC,EAASD,EAAI,cAAc,QAAQ,OACnCL,EAAe,KAAK,MAAM,aAAa,QAAQ,cAAc,CAAC,GAAK,GAEnEO,EAAW,CAAA,EAEjBP,EAAa,OAAOQ,GAAQ,CACtBA,EAAK,MAAQF,GACfC,EAAS,KAAKC,CAAI,CAExB,CAAG,EACD,QAAQ,IAAID,CAAQ,EACpB,aAAa,QAAQ,eAAgB,KAAK,UAAUA,CAAQ,CAAC,CAC/D,CAEIT,EAAS,SAAS,SAAW,EAC/BC,EAAQ,UAAU,OAAO,QAAQ,EAEjCA,EAAQ,UAAU,IAAI,QAAQ,EAIhC,SAASE,EAAeQ,EAAK,CAC3B,MAAMC,EAAiB,mCAEvB,OAAOD,EACJ,IACC,CAAC,CACC,IAAAE,EACA,WAAAC,EACA,MAAAC,EACA,UAAAC,EACA,YAAAC,EACA,OAAAC,EACA,UAAAC,CACR,IACe;AAAA;AAAA;AAAA,iBAGEL;AAAA,iBACAC;AAAA;AAAA;AAAA;AAAA,mCAIkBA;AAAA,qCACEC;AAAA;AAAA,cAEvBC,GAAeL;AAAA;AAAA;AAAA,qCAGQM;AAAA;AAAA;AAAA,2BAGVC,EAAU,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAWbA,EAAU,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kEAY0BN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQ7D,EACA,KAAK,EAAE,CACZ"}